---
title: "Project Dev Journal"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE)

github_sha_link <- function(sha) {
  glue::glue(
    "([changelog: {substr(sha, 1, 6)}]",
    "(https://github.com/gadenbuie/js4shiny-drumkit/commit/{sha})"
  )
}
```

I've setup a basic [index.html](index.html) to get us started.

## Add the drumkit image

Typically images are included in a page using the `<img>` tag.

Let's try that first

```html
<!-- PUT SVG HERE -->
<img src="drumkit.svg" />
```

This doesn't work the way we want.
Compare the [drumkit.svg](drumkit.svg) document
with what we see in the developer console.
The SVG document is XML (like HTML),
but uses a different set of tags.

In order to be able to access the structure of the SVG,
we need to drop the whole SVG into our HTML page.

## Change the drumkit's colors

I've include some styles in a `<style>` tag 
at the bottom of the page.
Use these to change the colors of the drumkit
and get a sense for the structure of the svg:

* Individual SVG elements: `polygon`, `path`, `ellipse`
* Each have classes: `.drum-side.kick`
* Are also grouped together, with ID for group: `#kick`
* Note that last class is the same as the sound we want to play: `class="drum-side kick"` means we should use a kick drum sound.

Here are suggestions for colors for the drumkit.

- black stands
- gray rims
- purple drums
- dark purple bottoms
- white kick front
- yellow symbols
- orange hover

Check out the hover effect!

## Try the playDrum() function

In the dev console, try running

```
playDrum('kick')
playDrum('snare')
```

## Find the drumkit and the text elements

First, find the DOM elements that we're going to want to use.

```js
// Find drumkit, hoverText, and clickText elements
const drumkit = document.getElementById('drumkit');
const hoverText = document.getElementById('hover-text');
const clickText = document.getElementById('click-text');
```

## Listen to mouseover events on the drumkit

This isn't strictly required to make the drumkit work,
but it gives us a chance to practice working with
browser events.

Add an event listener to the drumkit and output

- The name of the current moused-over tag

- The list of classes on that tag, separated by a dot.

Create the event listener first 
and just write the `event` object to the console. 

```{js}
drumkit.addEventListener('mouseover', function(event) {
  console.log(event)
})
```

Then use `event.target.tagname` and `event.target.classList`.

```{js}
drumkit.addEventListener('mouseover', function(event) {
  const tag = event.target.tagName
  let classes = event.target.classList
  classes = ['', ...classes]
  hoverText.textContent = tag + ' ' + classes.join('.')
})
```

Use the browser dev tools to examine the `<svg>` element.
You should see a small "event" box next to the slement in the DOM.
This tells you that there is an event listener
attached to this element and you can inspect
which events are being watched.

The browser will also highlight in the DOM tree any updates.
Watch the `<p>` element containing the hover text
to see how the browser alerts you to updates in the DOM.
